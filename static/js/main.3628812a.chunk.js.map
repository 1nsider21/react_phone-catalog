{"version":3,"sources":["api/api.ts","api/basketItems.ts","BasketHook.ts","helpers.ts","Catalog.tsx","api/phones.ts","Details.tsx","Basket.tsx","App.tsx","index.tsx"],"names":["get","url","a","async","fetch","response","json","addItem","itemId","data","method","body","JSON","stringify","headers","api","item","useBasket","useState","basketItems","setBasketItems","refreshBasket","then","useEffect","removeItem","alert","getImageUrl","Catalog","phones","setPhones","className","map","phone","key","id","to","alt","name","src","imageUrl","type","onClick","phoneId","basketItemsApi","snippet","Details","setPhone","loadingError","setLoadingError","useParams","phonesApi","catch","images","description","image","Basket","length","App","value","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3628812a.chunk.js","sourcesContent":["const API_URL = 'http://localhost:5000';\n\nexport const get = async<T>(url: string): Promise<T> => {\n  const response = await fetch(API_URL + url);\n\n  return response.json();\n};\n\nexport const post = async(url: string, data: any) => {\n  const response = await fetch(API_URL + url, {\n    method: 'POST',\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json; charset=utf-8',\n    },\n  });\n\n  return response.json();\n};\n","import * as api from './api';\n\nconst BASE_URL = '/basket-items';\n\nexport const getAll = () => {\n  return api.get<BasketItem[]>(BASE_URL);\n};\n\nexport const getById = (phoneId: string) => {\n  return api.get<BasketItem>(`${BASE_URL}/${phoneId}`);\n};\n\nexport const addItem = (itemId: string) => {\n  return api.post(BASE_URL, { item: itemId });\n};\n","import { useEffect, useState } from 'react';\nimport * as basketItemsApi from './api/basketItems';\n\nexport const useBasket = () => {\n  const [basketItems, setBasketItems] = useState<BasketItem[]>([]);\n\n  const refreshBasket = () => {\n    basketItemsApi.getAll()\n      .then(setBasketItems);\n  };\n\n  useEffect(refreshBasket, []);\n\n  const removeItem = (itemId: string) => {\n    alert(`Removing ${itemId}... Please implement`);\n  };\n\n  return {\n    basketItems,\n    refreshBasket,\n    removeItem,\n  };\n};\n","const BASE_IMAGE_URL = 'https://mate-academy.github.io/react_phone-catalog/';\n\nexport const getImageUrl = (url: string) => {\n  return BASE_IMAGE_URL + url;\n};\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Link } from 'react-router-dom';\n\nimport * as phonesApi from './api/phones';\nimport * as basketItemsApi from './api/basketItems';\n\nimport { useBasket } from './BasketHook';\nimport { getImageUrl } from './helpers';\n\nconst Catalog = () => {\n  const [phones, setPhones] = useState<Phone[]>([]);\n  const { refreshBasket } = useBasket();\n\n  useEffect(() => {\n    phonesApi.getAll()\n      .then(setPhones);\n  }, []);\n\n  const addToBasket = async(phoneId: string) => {\n    await basketItemsApi.addItem(phoneId);\n    refreshBasket();\n  };\n\n  return (\n    <>\n      <h1>Phone catalog</h1>\n\n      <ul className=\"phones\">\n        {phones.map((phone: Phone) => (\n          <li className=\"thumbnail\" key={phone.id}>\n            <Link to={`/phones/${phone.id}`} className=\"thumb\">\n              <img\n                alt={phone.name}\n                src={getImageUrl(phone.imageUrl)}\n              />\n            </Link>\n\n            <div className=\"phones__btn-buy-wrapper\">\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => addToBasket(phone.id)}\n              >\n                Add\n              </button>\n            </div>\n\n            <Link to={`/phones/${phone.id}`}>\n              {phone.name}\n            </Link>\n\n            <p>{phone.snippet}</p>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Catalog;\n","import * as api from './api';\n\nconst BASE_URL = '/phones';\n\nexport const getAll = () => {\n  return api.get<Phone[]>(BASE_URL);\n};\n\nexport const getById = (phoneId: number | string) => {\n  return api.get<TPhoneDetails>(`${BASE_URL}/${phoneId}`);\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport * as phonesApi from './api/phones';\nimport { getImageUrl } from './helpers';\n\ntype TRouteParams = {\n  phoneId: string;\n}\n\nconst Details = () => {\n  const [phone, setPhone] = useState<TPhoneDetails | null>(null);\n  const [loadingError, setLoadingError] = useState('');\n  const { phoneId } = useParams<TRouteParams>();\n\n  useEffect(() => {\n    phonesApi.getById(phoneId)\n      .then(setPhone)\n      .catch(setLoadingError);\n  }, [phoneId]);\n\n  if (loadingError) {\n    return <p>{loadingError}</p>;\n  }\n\n  if (!phone) {\n    return <p>Loading...</p>;\n  }\n\n  return (\n    <>\n      <img\n        className=\"phone\"\n        src={getImageUrl(phone.images[0])}\n        alt=\"phone preview\"\n      />\n\n      <h1>{phone.name}</h1>\n      <p>{phone.description}</p>\n\n      <button type=\"button\" className=\"btn btn-success\">\n        Add\n      </button>\n\n      <ul className=\"phone-thumbs\">\n        {phone.images.map(image => (\n          <li key={image}>\n            <img src={getImageUrl(image)} alt=\"thumbnail\" />\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Details;\n","import React, { useEffect } from 'react';\n\nimport { useBasket } from './BasketHook';\n\nconst Basket = () => {\n  const { basketItems, refreshBasket, removeItem } = useBasket();\n\n  useEffect(refreshBasket, []);\n\n  return (\n    <section>\n      <h2>Shopping Cart</h2>\n\n      {basketItems.length > 0 ? (\n        <ul>\n          {basketItems.map((item) => (\n            <li key={item}>\n              <button\n                type=\"button\"\n                onClick={() => removeItem(item)}\n              >\n                x\n              </button>\n\n              <b>{item}</b>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <p>No items yet</p>\n      )}\n    </section>\n  );\n};\n\nexport default Basket;\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\n\nimport './App.css';\nimport Catalog from './Catalog';\nimport Details from './Details';\nimport Basket from './Basket';\n\nconst App = () => (\n  <div className=\"container-fluid\">\n    <div className=\"row\">\n      <div className=\"col-md-2\">\n        <section>\n          <h2>Filter</h2>\n\n          <label>\n            <div>Search:</div>\n            <input />\n          </label>\n\n          <label>\n            <div>Sort by:</div>\n            <select>\n              <option value=\"name\">Alphabetical</option>\n              <option value=\"age\">Newest</option>\n            </select>\n          </label>\n        </section>\n\n        <Basket />\n      </div>\n\n      <div className=\"col-md-10\">\n        <Switch>\n          <Route path=\"/phones\" exact component={Catalog} />\n          <Route path=\"/phones/:phoneId\" component={Details} />\n          <Redirect to=\"/phones\" />\n        </Switch>\n      </div>\n    </div>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}