(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{20:function(e,t,n){e.exports=n(32)},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),l=n.n(r),u=n(7),o=n(5),s=(n(25),n(6)),m=n.n(s),i=n(11),p=n(8),h="https://phone-catalog-api.herokuapp.com",E=function(){var e=Object(i.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(m.a.mark((function e(t,n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(h+t,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json; charset=utf-8"}});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=c.a.createContext({basketItems:[],refreshBasket:function(){},removeItem:function(){}}),d=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(p.a)(n,2),l=r[0],u=r[1],o=function(){E("/basket-items").then(u)};Object(a.useEffect)(o,[]);var s={basketItems:l,refreshBasket:o,removeItem:function(e){alert("Removing ".concat(e,"... Please implement"))}};return c.a.createElement(f.Provider,{value:s},t)},v=function(e){return"/react_phone-catalog/"+e},g=function(){var e=Object(a.useState)([]),t=Object(p.a)(e,2),n=t[0],r=t[1],l=Object(a.useContext)(f).refreshBasket;Object(a.useEffect)((function(){E("/phones").then(r)}),[]);var o=function(){var e=Object(i.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b("/basket-items",{item:t});case 2:l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Phone catalog"),c.a.createElement("ul",{className:"phones"},n.map((function(e){return c.a.createElement("li",{className:"thumbnail",key:e.id},c.a.createElement(u.b,{to:"/phones/".concat(e.id),className:"thumb"},c.a.createElement("img",{alt:e.name,src:v(e.imageUrl)})),c.a.createElement("div",{className:"phones__btn-buy-wrapper"},c.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){return o(e.id)}},"Add")),c.a.createElement(u.b,{to:"/phones/".concat(e.id)},e.name),c.a.createElement("p",null,e.snippet))}))))},j=function(){var e=Object(a.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),u=Object(p.a)(l,2),s=u[0],m=u[1],i=Object(o.g)().phoneId;return Object(a.useEffect)((function(){(function(e){return E("".concat("/phones","/").concat(e))})(i).then(r).catch(m)}),[i]),s?c.a.createElement("p",null,s):n?c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{className:"phone",src:v(n.images[0]),alt:"phone preview"}),c.a.createElement("h1",null,n.name),c.a.createElement("p",null,n.description),c.a.createElement("button",{type:"button",className:"btn btn-success"},"Add"),c.a.createElement("ul",{className:"phone-thumbs"},n.images.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("img",{src:v(e),alt:"thumbnail"}))})))):c.a.createElement("p",null,"Loading...")},k=function(){var e=Object(a.useContext)(f),t=e.basketItems,n=e.refreshBasket,r=e.removeItem;return Object(a.useEffect)(n,[]),c.a.createElement("section",null,c.a.createElement("h2",null,"Shopping Cart"),t.length>0?c.a.createElement("ul",null,t.map((function(e){return c.a.createElement("li",{key:e},c.a.createElement("button",{type:"button",onClick:function(){return r(e)}},"x"),c.a.createElement("b",null,e))}))):c.a.createElement("p",null,"No items yet"))},O=function(){return c.a.createElement(d,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-3"},c.a.createElement("section",null,c.a.createElement("h2",null,"Filter"),c.a.createElement("label",null,c.a.createElement("div",null,"Search:"),c.a.createElement("input",null)),c.a.createElement("label",null,c.a.createElement("div",null,"Sort by:"),c.a.createElement("select",null,c.a.createElement("option",{value:"name"},"Alphabetical"),c.a.createElement("option",{value:"age"},"Newest")))),c.a.createElement(k,null)),c.a.createElement("div",{className:"col-sm-9"},c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/phones",exact:!0,component:g}),c.a.createElement(o.b,{path:"/phones/:phoneId",component:j}),c.a.createElement(o.a,{to:"/phones"}))))))};l.a.render(c.a.createElement(u.a,null,c.a.createElement(O,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.a217cee5.chunk.js.map